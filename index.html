<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIç”Ÿç”£é©å‘½ã¨ç¤¾ä¼šã‚·ã‚¹ãƒ†ãƒ ç§»è¡Œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #fdfcf8; /* Warm neutral background */
            color: #333333;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom range slider styling */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #57534e;
            cursor: pointer;
            margin-top: -8px;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            background: #d6d3d1;
            border-radius: 2px;
        }

        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .step-arrow::after {
            content: "â†’";
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            color: #a8a29e;
        }
        @media (max-width: 768px) {
            .step-arrow::after {
                content: "â†“";
                right: 50%;
                top: auto;
                bottom: -25px;
                transform: translateX(50%);
            }
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals (Stone/Sand) with Muted Accents (Sage Green, Burnt Orange, Slate Blue) -->
    <!-- Application Structure Plan: 
         1. Header: Introduction to the hypothesis provided in the source text.
         2. The Logic Flow (Interactive Diagram): Visualizes the causal relationship (1 -> 3 -> 2) defined in the tweets using CSS Grid/Flex. 
            Allows users to click stages to see details (Tesla/xAI/Nuclear -> Unemployment Panic -> Decentralized Politics).
         3. Simulation Dashboard (Core Interaction): 
            - Inputs: Sliders for "Automation Level" and "Decentralized Tech Maturity".
            - Logic: Calculates Unemployment Rate and Social Unrest.
            - Visuals: Line Chart (Time Series Projection) and Doughnut Chart (Labor Composition).
            - Feedback: Dynamic text descriptions changing based on the "Unemployment Trigger" (40%).
         4. Deep Dive Cards: Detailed breakdown of the three key elements (Productivity, Politics, Trigger).
         5. Conclusion: Synthesized summary of the "Research".
         Why: This structure transforms the linear logic of the tweet into an experimental lab, allowing the user to "test" the hypothesis.
    -->
    <!-- Visualization & Content Choices:
         - Logic Flow: HTML/CSS Flexbox with click events. Goal: Show dependencies. No SVG needed.
         - Dashboard Line Chart: Chart.js. Goal: Show the divergence between Productivity (rising) and Employment (falling) causing Unrest.
         - Dashboard Doughnut Chart: Chart.js. Goal: Visualize the 40% threshold mentioned in the source.
         - Text Updates: Vanilla JS. Goal: Provide narrative context to the data changes.
         - Justification: Chart.js handles the quantitative "40% threshold" visualization perfectly within the constraints.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Navigation / Header -->
    <header class="w-full bg-stone-100 border-b border-stone-200 py-6">
        <div class="container mx-auto px-4 max-w-6xl">
            <h1 class="text-3xl font-bold text-stone-800 tracking-tight mb-2">ãƒã‚¹ãƒˆåŠ´åƒç¤¾ä¼šã¸ã®ç§»è¡Œä»®èª¬</h1>
            <p class="text-stone-600">AIã«ã‚ˆã‚‹ç”Ÿç”£è‡ªå‹•åŒ–ã¨ç¤¾ä¼šã‚·ã‚¹ãƒ†ãƒ å¤‰é©ã®å¯èƒ½æ€§ã«é–¢ã™ã‚‹ãƒªã‚µãƒ¼ãƒãƒ»ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</p>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8 max-w-6xl space-y-12">

        <!-- Introduction Section -->
        <section>
            <div class="bg-white rounded-xl p-8 shadow-sm border border-stone-100">
                <h2 class="text-xl font-bold text-stone-700 mb-4 border-l-4 border-stone-400 pl-3">ãƒªã‚µãƒ¼ãƒæ¦‚è¦</h2>
                <p class="text-stone-600 leading-relaxed mb-4">
                    æœ¬ãƒ¬ãƒãƒ¼ãƒˆã¯ã€é«˜åº¦ãªAIã¨ãƒ­ãƒœãƒ†ã‚£ã‚¯ã‚¹ã«ã‚ˆã‚‹ã€Œåœ§å€’çš„ãªç”Ÿç”£æ‰‹æ®µã®è‡ªå‹•åŒ–ã€ãŒã€æ—¢å­˜ã®åŠ´åƒå¸‚å ´ã‚’å´©å£Šã•ã›ã€æ–°ãŸãªç¤¾ä¼šã‚·ã‚¹ãƒ†ãƒ ï¼ˆä¸€ç¨®ã®å…±ç”£ä¸»ç¾©çš„æ§‹é€ ï¼‰ã¸ã®ç§»è¡Œã‚’ä¸å¯é¿ã«ã™ã‚‹ã¨ã„ã†ä»®èª¬ã‚’æ¤œè¨¼ã™ã‚‹ã‚‚ã®ã§ã™ã€‚
                </p>
                <p class="text-stone-600 leading-relaxed">
                    ç‰¹ã«ã€ãƒ†ã‚¹ãƒ©ã‚„xAIã€åŸå­åŠ›ç™ºé›»ãªã©ã‚’åŸºç›¤ã¨ã—ãŸ<strong>ç”Ÿç”£åŠ›ã®çˆ†ç™º</strong>ãŒã€<strong>40%ã‚’è¶…ãˆã‚‹å¤±æ¥­ç‡</strong>ã¨ã„ã†ç¤¾ä¼šçš„ãƒˆãƒªã‚¬ãƒ¼ã‚’å¼•ãã€ãã‚ŒãŒ<strong>éä¸­å¤®é›†æ¨©çš„ãªæ”¿æ²»æŠ€è¡“</strong>ï¼ˆãƒ—ãƒ«ãƒ©ãƒªãƒ†ã‚£ã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ç­‰ï¼‰ã¸ã®å¸Œæ±‚ã‚’ç”Ÿã‚€ã¨ã„ã†å› æœé€£é–ã«æ³¨ç›®ã—ã¾ã™ã€‚
                </p>
            </div>
        </section>

        <!-- Phase 1: Logic Flow Visualization -->
        <section>
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-stone-800 mb-2">ç§»è¡Œã¸ã®å› æœé€£é–ï¼ˆCausal Chainï¼‰</h2>
                <p class="text-stone-500 text-sm">å„è¦ç´ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ãƒ—ãƒ­ã‚»ã‚¹ã¯ç›´ç·šçš„ã§ã¯ãªãã€â‘ ãŒâ‘¢ã‚’å¼•ãèµ·ã“ã—ã€â‘¢ãŒâ‘¡ã®å—å®¹ã‚’ç”Ÿã¿ã¾ã™ã€‚</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 relative">
                <!-- Step 1 -->
                <div id="step1" class="step-card bg-white border-2 border-slate-200 rounded-xl p-6 cursor-pointer card-hover relative step-arrow md:mb-0 mb-8" onclick="showDetail('detail1')">
                    <div class="absolute -top-3 left-4 bg-slate-600 text-white text-xs font-bold px-2 py-1 rounded">èµ·ç‚¹</div>
                    <h3 class="text-lg font-bold text-slate-700 mb-2">1. åœ§å€’çš„ç”Ÿç”£åŠ›</h3>
                    <div class="text-4xl mb-3">ğŸ¤–âš¡</div>
                    <p class="text-sm text-stone-600">åŠ´åƒã‹ã‚‰ã®è§£æ”¾ã€‚AIã€ãƒ­ãƒœãƒƒãƒˆã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ã«ã‚ˆã‚‹å®Œå…¨è‡ªå‹•åŒ–ã€‚</p>
                </div>

                <!-- Step 3 (Placed in middle visually for flow, logically it's the trigger) -->
                <div id="step3" class="step-card bg-white border-2 border-orange-200 rounded-xl p-6 cursor-pointer card-hover relative step-arrow md:mb-0 mb-8" onclick="showDetail('detail3')">
                    <div class="absolute -top-3 left-4 bg-orange-600 text-white text-xs font-bold px-2 py-1 rounded">ãƒˆãƒªã‚¬ãƒ¼</div>
                    <h3 class="text-lg font-bold text-orange-700 mb-2">3. ç¤¾ä¼šçš„ä¸å®‰</h3>
                    <div class="text-4xl mb-3">ğŸ“‰âš ï¸</div>
                    <p class="text-sm text-stone-600">AIå¤±æ¥­ç‡40%ã€‚æ—¢å­˜çµŒæ¸ˆã‚·ã‚¹ãƒ†ãƒ ã®æ©Ÿèƒ½ä¸å…¨ã¨ææ…Œã€‚</p>
                </div>

                <!-- Step 2 -->
                <div id="step2" class="step-card bg-white border-2 border-emerald-200 rounded-xl p-6 cursor-pointer card-hover relative" onclick="showDetail('detail2')">
                    <div class="absolute -top-3 left-4 bg-emerald-600 text-white text-xs font-bold px-2 py-1 rounded">è§£æ±ºç­–</div>
                    <h3 class="text-lg font-bold text-emerald-700 mb-2">2. éä¸­å¤®é›†æ¨©</h3>
                    <div class="text-4xl mb-3">ğŸ—³ï¸ğŸ”—</div>
                    <p class="text-sm text-stone-600">ãƒ—ãƒ«ãƒ©ãƒªãƒ†ã‚£ã€DAOã€‚æ–°ã—ã„åˆ†é…ã¨æ„æ€æ±ºå®šã®OSã€‚</p>
                </div>
            </div>

            <!-- Detail Display Area -->
            <div id="detail-display" class="mt-6 bg-stone-50 p-6 rounded-xl border border-stone-200 hidden transition-all duration-300">
                <h4 id="detail-title" class="text-lg font-bold mb-2"></h4>
                <p id="detail-content" class="text-stone-700"></p>
                <div id="detail-tags" class="mt-4 flex flex-wrap gap-2"></div>
            </div>
        </section>

        <!-- Phase 2: Interactive Simulation -->
        <section class="bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden">
            <div class="p-8 border-b border-stone-100 bg-stone-50">
                <h2 class="text-2xl font-bold text-stone-800 mb-2">æœªæ¥ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h2>
                <p class="text-stone-600">
                    ã€ŒAIã«ã‚ˆã‚‹è‡ªå‹•åŒ–ãƒ¬ãƒ™ãƒ«ã€ã¨ã€Œæ”¿æ²»æŠ€è¡“ã®å—å®¹åº¦ã€ã‚’æ“ä½œã—ã€ç¤¾ä¼šãŒã©ã®ã‚ˆã†ã«å¤‰é·ã™ã‚‹ã‹ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¾ã™ã€‚
                    <br>å¤±æ¥­ç‡ãŒ<span class="font-bold text-orange-600">40%</span>ã‚’è¶…ãˆãŸæ™‚ã€ç¤¾ä¼šã‚·ã‚¹ãƒ†ãƒ ã«ä½•ãŒèµ·ã“ã‚‹ã‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-0">
                <!-- Controls Side -->
                <div class="lg:col-span-4 p-8 border-r border-stone-100 bg-stone-50/50">
                    <div class="space-y-8">
                        <div>
                            <label class="block text-sm font-bold text-stone-700 mb-2 flex justify-between">
                                <span>AIãƒ»ãƒ­ãƒœãƒƒãƒˆè‡ªå‹•åŒ–ç‡</span>
                                <span id="automation-val" class="text-blue-600">20%</span>
                            </label>
                            <input type="range" id="slider-automation" min="0" max="100" value="20" step="1">
                            <p class="text-xs text-stone-500 mt-2">Tesla Bot, xAIç­‰ã®æŠ€è¡“æ™®åŠåº¦</p>
                        </div>

                        <div>
                            <label class="block text-sm font-bold text-stone-700 mb-2 flex justify-between">
                                <span>éä¸­å¤®æ”¿æ²»æŠ€è¡“ã®æˆç†Ÿåº¦</span>
                                <span id="politics-val" class="text-emerald-600">10%</span>
                            </label>
                            <input type="range" id="slider-politics" min="0" max="100" value="10" step="1">
                            <p class="text-xs text-stone-500 mt-2">ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³, Pluralityã®ã‚¤ãƒ³ãƒ•ãƒ©åŒ–</p>
                        </div>

                        <div class="bg-white p-4 rounded-lg border border-stone-200 shadow-sm">
                            <h4 class="font-bold text-stone-800 mb-2">ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœ</h4>
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm text-stone-600">äºˆæ¸¬å¤±æ¥­ç‡:</span>
                                <span id="result-unemployment" class="text-xl font-bold text-stone-800">5%</span>
                            </div>
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm text-stone-600">ç¤¾ä¼šä¸å®‰æŒ‡æ•°:</span>
                                <span id="result-unrest" class="text-xl font-bold text-stone-800">Low</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-stone-100">
                                <span class="text-xs font-bold text-stone-500 uppercase">ç¾åœ¨ã®ç¤¾ä¼šçŠ¶æ…‹</span>
                                <p id="state-description" class="text-sm font-medium mt-1 text-blue-800">å¾“æ¥ã®è³‡æœ¬ä¸»ç¾©çµŒæ¸ˆãŒæ©Ÿèƒ½ä¸­ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Side -->
                <div class="lg:col-span-8 p-8 space-y-8">
                    <!-- Line Chart -->
                    <div>
                        <h3 class="text-lg font-bold text-stone-700 mb-4">ç”Ÿç”£åŠ› vs ç¤¾ä¼šä¸å®‰ã®æ¨ç§»äºˆæ¸¬</h3>
                        <div class="chart-container">
                            <canvas id="mainChart"></canvas>
                        </div>
                    </div>
                    
                    <!-- Doughnut Chart Area -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 pt-8 border-t border-stone-100">
                        <div>
                            <h3 class="text-lg font-bold text-stone-700 mb-4">åŠ´åƒåŠ›æ§‹æˆæ¯”</h3>
                            <div class="chart-container" style="height: 200px;">
                                <canvas id="laborChart"></canvas>
                            </div>
                        </div>
                        <div class="flex flex-col justify-center">
                             <div class="bg-orange-50 p-4 rounded-lg border border-orange-100">
                                <h4 class="font-bold text-orange-800 mb-2 text-sm">âš ï¸ ãƒˆãƒªã‚¬ãƒ¼ãƒã‚¤ãƒ³ãƒˆåˆ†æ</h4>
                                <p class="text-sm text-orange-800 leading-snug">
                                    ãƒªã‚µãƒ¼ãƒã«ã‚ˆã‚‹ã¨ã€AIå¤±æ¥­ç‡ãŒ40%ã«é”ã—ãŸæ™‚ç‚¹ã§ã€æ—¢å­˜ã®ã‚»ãƒ¼ãƒ•ãƒ†ã‚£ãƒãƒƒãƒˆã§ã¯å¯¾å¿œä¸èƒ½ã¨ãªã‚Šã€ææ…Œçš„ãªç¤¾ä¼šä¸å®‰ãŒç™ºç”Ÿã—ã¾ã™ã€‚ã“ã‚ŒãŒã€Œç§»è¡Œã€ã®ç›´æ¥çš„ãªå¼•ãé‡‘ã¨ãªã‚Šã¾ã™ã€‚
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Detailed Analysis Section -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-white p-6 rounded-xl border border-stone-200">
                <h3 class="text-xl font-bold text-stone-800 mb-4">è¦ç´ 1ï¼šåœ§å€’çš„ç”Ÿç”£åŠ›ã®åŸºç›¤</h3>
                <ul class="space-y-3">
                    <li class="flex items-start">
                        <span class="bg-stone-200 text-stone-700 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3 mt-1 shrink-0">1</span>
                        <div>
                            <span class="font-bold block text-stone-700">é«˜çŸ¥èƒ½ãƒ­ãƒœãƒƒãƒˆãƒ»AI</span>
                            <span class="text-sm text-stone-600">Tesla Optimusã‚„xAIã®ã‚ˆã†ãªã€ç‰©ç†ä¸–ç•Œã¨çŸ¥çš„ä½œæ¥­ã®ä¸¡æ–¹ã‚’ä»£æ›¿ã™ã‚‹å­˜åœ¨ã€‚</span>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-stone-200 text-stone-700 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3 mt-1 shrink-0">2</span>
                        <div>
                            <span class="font-bold block text-stone-700">å®‰ä¾¡ã§ç„¡é™ã«è¿‘ã„ã‚¨ãƒãƒ«ã‚®ãƒ¼</span>
                            <span class="text-sm text-stone-600">åŸç™ºã‚„å†ã‚¨ãƒã«ã‚ˆã‚Šã€ãƒ­ãƒœãƒƒãƒˆã®ç¨¼åƒã‚³ã‚¹ãƒˆã‚’æ¥µé™ã¾ã§ä¸‹ã’ã‚‹ã€‚</span>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="bg-white p-6 rounded-xl border border-stone-200">
                <h3 class="text-xl font-bold text-stone-800 mb-4">è¦ç´ 2ï¼šéä¸­å¤®é›†æ¨©ã®æ”¿æ²»æŠ€è¡“</h3>
                <ul class="space-y-3">
                    <li class="flex items-start">
                        <span class="bg-stone-200 text-stone-700 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3 mt-1 shrink-0">1</span>
                        <div>
                            <span class="font-bold block text-stone-700">Plurality (ãƒ—ãƒ«ãƒ©ãƒªãƒ†ã‚£)</span>
                            <span class="text-sm text-stone-600">ã‚ªãƒ¼ãƒ‰ãƒªãƒ¼ãƒ»ã‚¿ãƒ³ã‚‰ãŒæå”±ã™ã‚‹ã€å¤šæ§˜æ€§ã‚’ä¿ã¡ãªãŒã‚‰åˆæ„å½¢æˆã‚’è¡Œã†æŠ€è¡“ã€‚</span>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-stone-200 text-stone-700 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3 mt-1 shrink-0">2</span>
                        <div>
                            <span class="font-bold block text-stone-700">æ°‘æ„ç²å¾—ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°</span>
                            <span class="text-sm text-stone-600">ã“ã‚Œã‚‰ã®æŠ€è¡“ã¯å˜ç‹¬ã§ã¯æ™®åŠã›ãšã€ç¤¾ä¼šä¸å®‰ï¼ˆãƒˆãƒªã‚¬ãƒ¼ï¼‰ã«ã‚ˆã‚‹åˆ‡å®Ÿãªéœ€è¦ãŒå¿…è¦ã¨ãªã‚‹ã€‚</span>
                        </div>
                    </li>
                </ul>
            </div>
        </section>

    </main>

    <footer class="bg-stone-800 text-stone-400 py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm">Based on Source Report: "å…±ç”£ä¸»ç¾©å®Ÿç¾è¦ç´  & ãƒªã‚µãƒ¼ãƒ"</p>
            <p class="text-xs mt-2 opacity-50">Generated for Analysis Purposes</p>
        </div>
    </footer>

    <script>
        // Data and State
        const details = {
            detail1: {
                title: "1. åœ§å€’çš„ç”Ÿç”£åŠ›ã®è‡ªå‹•åŒ–",
                content: "äººé–“ãŒåŠ´åƒã‹ã‚‰è§£æ”¾ã•ã‚Œã‚‹æ®µéšã§ã™ã€‚Teslaã‚„xAIã€åŸå­åŠ›ç™ºé›»ãªã©ã®ã‚¤ãƒ³ãƒ•ãƒ©ãŒçµåˆã—ã€é«˜çŸ¥èƒ½ãƒ­ãƒœãƒƒãƒˆã¨å®‰ä¾¡ãªé›»åŠ›ã«ã‚ˆã£ã¦ã€ç”Ÿæ´»å¿…éœ€å“ã®ç”Ÿç”£ã‚³ã‚¹ãƒˆãŒé™ã‚Šãªãã‚¼ãƒ­ã«è¿‘ã¥ãã¾ã™ã€‚ã“ã‚ŒãŒã™ã¹ã¦ã®å¤‰åŒ–ã®åŸºç›¤ã¨ãªã‚Šã¾ã™ã€‚",
                tags: ["Tesla", "xAI", "åŸç™º", "ãƒ­ãƒœãƒ†ã‚£ã‚¯ã‚¹", "AI"]
            },
            detail2: {
                title: "2. éä¸­å¤®é›†æ¨©çš„ãªæ”¿æ²»æŠ€è¡“",
                content: "å¯Œã®åˆ†é…ã¨æ„æ€æ±ºå®šã®ãŸã‚ã®æ–°ã—ã„OSã§ã™ã€‚ä¸­å¤®é›†æ¨©çš„ãªç®¡ç†ã§ã¯ãªãã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚„Pluralityï¼ˆå¤šå…ƒæ€§ï¼‰æŠ€è¡“ã€ã‚ªãƒ¼ãƒ‰ãƒªãƒ¼ãƒ»ã‚¿ãƒ³ã‚„å®‰é‡æ°ãŒæå”±ã™ã‚‹ã‚ˆã†ãªãƒ‡ã‚¸ã‚¿ãƒ«æ°‘ä¸»ä¸»ç¾©ã®æ‰‹æ³•ãŒã€å´©å£Šã—ãŸæ—§æ¥ã®æ”¿æ²»ã‚·ã‚¹ãƒ†ãƒ ã«ä»£ã‚ã£ã¦æ¡ç”¨ã•ã‚Œã¾ã™ã€‚",
                tags: ["Plurality", "ã‚ªãƒ¼ãƒ‰ãƒªãƒ¼ãƒ»ã‚¿ãƒ³", "å®‰é‡", "ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³", "DAO"]
            },
            detail3: {
                title: "3. ç§»è¡Œãƒˆãƒªã‚¬ãƒ¼ï¼šç¤¾ä¼šä¸å®‰",
                content: "AIã«ã‚ˆã‚‹ç”Ÿç”£è‡ªå‹•åŒ–ãŒã‚‚ãŸã‚‰ã™å‰¯ä½œç”¨ã§ã™ã€‚AIå¤±æ¥­ç‡ãŒ40%ã‚’è¶…ãˆã‚‹ã¨ã€æ—¢å­˜ã®è³‡æœ¬ä¸»ç¾©çš„åˆ†é…ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ï¼ˆè³ƒé‡‘åŠ´åƒï¼‰ãŒæ©Ÿèƒ½ã—ãªããªã‚Šã¾ã™ã€‚ã“ã®ã€Œè‘—ã—ã„ç¤¾ä¼šä¸å®‰ã€ã“ããŒã€äººã€…ã‚’æ–°ã—ã„ç¤¾ä¼šå¥‘ç´„ï¼ˆè¦ç´ 2ï¼‰ã¸ã¨å‘ã‹ã‚ã›ã‚‹å¼·åŠ›ãªå‹•æ©Ÿã¨ãªã‚Šã¾ã™ã€‚",
                tags: ["AIå¤±æ¥­ç‡40%", "ç¤¾ä¼šä¸å®‰", "ææ…Œ", "ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã‚·ãƒ•ãƒˆ"]
            }
        };

        // UI Interactions
        function showDetail(id) {
            const display = document.getElementById('detail-display');
            const title = document.getElementById('detail-title');
            const content = document.getElementById('detail-content');
            const tagsDiv = document.getElementById('detail-tags');
            
            // Visual selection state
            document.querySelectorAll('.step-card').forEach(card => {
                card.classList.remove('ring-2', 'ring-stone-500', 'bg-stone-50');
            });
            const selectedStep = id.replace('detail', 'step');
            document.getElementById(selectedStep).classList.add('ring-2', 'ring-stone-500', 'bg-stone-50');

            // Update content
            display.classList.remove('hidden');
            title.textContent = details[id].title;
            content.textContent = details[id].content;
            
            // Update tags
            tagsDiv.innerHTML = '';
            details[id].tags.forEach(tag => {
                const span = document.createElement('span');
                span.className = 'px-2 py-1 bg-stone-200 text-stone-700 text-xs rounded-md font-medium';
                span.textContent = '#' + tag;
                tagsDiv.appendChild(span);
            });
        }

        // Charts & Simulation Logic
        document.addEventListener('DOMContentLoaded', () => {
            
            const ctxMain = document.getElementById('mainChart').getContext('2d');
            const ctxLabor = document.getElementById('laborChart').getContext('2d');

            // Initial Data for Simulation
            const years = Array.from({length: 10}, (_, i) => `Year ${i+1}`);
            
            // Chart 1: Main Trend Line
            const mainChart = new Chart(ctxMain, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'ç”Ÿç”£èƒ½åŠ› (Productivity)',
                            data: [10, 15, 25, 40, 60, 80, 100, 130, 160, 200],
                            borderColor: '#3b82f6', // blue
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'ç¤¾ä¼šä¸å®‰æŒ‡æ•° (Social Unrest)',
                            data: [10, 12, 15, 20, 30, 45, 60, 85, 90, 40], // Dips at end if transition succeeds
                            borderColor: '#ea580c', // orange
                            borderDash: [5, 5],
                            tension: 0.4
                        },
                        {
                            label: 'å¾“æ¥å‹é›‡ç”¨ (Human Jobs)',
                            data: [90, 85, 80, 70, 55, 40, 25, 15, 10, 5],
                            borderColor: '#78716c', // stone
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: { mode: 'index', intersect: false },
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.raw;
                                }
                            }
                        }
                    },
                    scales: {
                        y: { beginAtZero: true, max: 200 }
                    }
                }
            });

            // Chart 2: Labor Composition (Doughnut)
            const laborChart = new Chart(ctxLabor, {
                type: 'doughnut',
                data: {
                    labels: ['äººé–“åŠ´åƒ (Human)', 'AIãƒ»ãƒ­ãƒœãƒƒãƒˆ (Auto)'],
                    datasets: [{
                        data: [80, 20],
                        backgroundColor: ['#d6d3d1', '#3b82f6'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });

            // Simulation Logic
            const sliderAuto = document.getElementById('slider-automation');
            const sliderPol = document.getElementById('slider-politics');
            const valAuto = document.getElementById('automation-val');
            const valPol = document.getElementById('politics-val');
            const resUnemp = document.getElementById('result-unemployment');
            const resUnrest = document.getElementById('result-unrest');
            const stateDesc = document.getElementById('state-description');

            function updateSimulation() {
                const automation = parseInt(sliderAuto.value);
                const politics = parseInt(sliderPol.value);

                // Update text values
                valAuto.textContent = automation + '%';
                valPol.textContent = politics + '%';

                // Calculate Unemployment: Directly correlated to automation but slightly lagged logic
                // Simple logic: Unemployment = Automation * 0.8 (some jobs remain or created)
                let unemployment = Math.floor(automation * 0.9);
                if (unemployment > 95) unemployment = 95;

                // Calculate Unrest:
                // Unrest rises with Unemployment.
                // But, if Politics (Decentralized Tech/UBI infrastructure) is high, Unrest is mitigated.
                // Unrest = Unemployment * 1.5 - Politics * 1.2
                let unrestScore = (unemployment * 1.5) - (politics * 1.2);
                if (unrestScore < 0) unrestScore = 0;
                if (unrestScore > 100) unrestScore = 100;

                // Update Displays
                resUnemp.textContent = unemployment + '%';
                
                // Color code unemployment
                if(unemployment >= 40) {
                    resUnemp.classList.remove('text-stone-800');
                    resUnemp.classList.add('text-red-600');
                } else {
                    resUnemp.classList.add('text-stone-800');
                    resUnemp.classList.remove('text-red-600');
                }

                // Update Unrest Text
                let unrestText = "Low";
                if (unrestScore > 30) unrestText = "Moderate";
                if (unrestScore > 60) unrestText = "High (Warning)";
                if (unrestScore > 80) unrestText = "Critical (Revolution)";
                resUnrest.textContent = unrestText;

                // Update State Description Logic
                if (unemployment < 20) {
                    stateDesc.textContent = "å®‰å®š: å¾“æ¥å‹è³‡æœ¬ä¸»ç¾©ãŒæ©Ÿèƒ½ä¸­ã€‚AIã¯è£œåŠ©çš„ãƒ„ãƒ¼ãƒ«ã€‚";
                    stateDesc.className = "text-sm font-medium mt-1 text-stone-600";
                } else if (unemployment < 40) {
                    stateDesc.textContent = "å¤‰åŒ–ã®äºˆå…†: æ ¼å·®æ‹¡å¤§ã¨é›‡ç”¨ã®æµå‹•åŒ–ã€‚ãƒãƒ”ãƒ¥ãƒªã‚ºãƒ ã®å°é ­ã€‚";
                    stateDesc.className = "text-sm font-medium mt-1 text-yellow-700";
                } else if (unemployment >= 40 && politics < 50) {
                    stateDesc.textContent = "ğŸš¨ ãƒˆãƒªã‚¬ãƒ¼ç™ºå‹•: åŠ´åƒå¸‚å ´å´©å£Šã€‚æš´å‹•ç™ºç”Ÿãƒªã‚¹ã‚¯æœ€å¤§ã€‚æ—¢å­˜æ”¿åºœæ©Ÿèƒ½ä¸å…¨ã€‚";
                    stateDesc.className = "text-sm font-medium mt-1 text-red-600 font-bold";
                } else if (unemployment >= 40 && politics >= 50) {
                    stateDesc.textContent = "âœ¨ ç§»è¡Œé–‹å§‹: åˆ†æ•£å‹çµ±æ²»ã‚·ã‚¹ãƒ†ãƒ ã¸ã®æ¨©é™å§”è­²ãŒé€²ã‚€ã€‚åŠ´åƒãªãç¹æ „ã¸ã€‚";
                    stateDesc.className = "text-sm font-medium mt-1 text-emerald-600 font-bold";
                }

                // Update Labor Chart
                laborChart.data.datasets[0].data = [100 - automation, automation];
                laborChart.update();

                // Update Main Line Chart projections based on current "End State" settings
                // We shift the curve based on the slider
                const baseProd = automation * 2;
                const baseUnrest = unrestScore;
                
                // Dynamically adjust the "future" points of the chart
                const newDataProd = mainChart.data.datasets[0].data.map((v, i) => v * (1 + automation/500 * (i/10))); 
                // Unrest curve shape changes
                const newDataUnrest = mainChart.data.datasets[1].data.map((v, i) => {
                    // sigmoid-ish growth based on input
                    let val = (i * 10) + (unemployment * (i/9));
                    // Mitigation by politics
                    val = val - (politics * (i/5));
                    return Math.max(0, val);
                });

                // Update only last few points to feel "responsive" without jittering the whole past
                // Actually, let's just redraw a projection based on current sliders as if they are the "Final Year" target
                const projectedUnemployment = [];
                const projectedProductivity = [];
                const projectedUnrest = [];
                
                for(let i=0; i<10; i++) {
                    let progress = i / 9;
                    projectedProductivity.push(10 + (baseProd * progress));
                    
                    let uRate = (unemployment * progress);
                    projectedUnemployment.push(100 - uRate); // Chart shows "Jobs"
                    
                    let unrestVal = (unrestScore * progress);
                    // If politics is high, unrest drops at the end (transition successful)
                    if (politics > 60 && i > 7) {
                        unrestVal = unrestVal * 0.5;
                    }
                    projectedUnrest.push(unrestVal);
                }

                mainChart.data.datasets[0].data = projectedProductivity;
                mainChart.data.datasets[1].data = projectedUnrest;
                mainChart.data.datasets[2].data = projectedUnemployment;
                mainChart.update();
            }

            // Event Listeners
            sliderAuto.addEventListener('input', updateSimulation);
            sliderPol.addEventListener('input', updateSimulation);

            // Init
            updateSimulation();
            
            // Auto-open first detail
            showDetail('detail1');
        });
    </script>
</body>
</html>
